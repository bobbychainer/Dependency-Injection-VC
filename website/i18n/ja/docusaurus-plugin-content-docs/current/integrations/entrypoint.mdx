---
title: Plain C# Entry point
---

VContainerを使うと、素のC#オブジェクトをアプリケーションの処理の起点にすることができます。
VContainer allows plain C# to be the starting point for application processing.

これを `MonoBehaviour` の代わりに使用することで、制御フローのみをUnityの色々な機能とは分離することができます。

以下は簡単な例です:

```csharp
clas FooController : IStartable
{
    void IStartable.Start()
    {
        // イベント監視やルーチンなどを開始...
    }
}
```

```csharp
builder.RegisterEntryPoint<FooController>();
```

:::tip
See [register](../registering/register-type#register-lifecycle-marker-interfaces)
:::

VContainer does this with its own PlayerLoopSystem.

If you register a class that implements the marker interface, it will be scheduled in Unity's PlayerLoop cycle.

Since it uses PlayerLoopSystem, it works even if you register at any time (e.g: `IStartable` etc)


## Available interfaces

| VContaienr entry point                | Timing |
|:--------------------------------------|:----------------------------------|
| `IInitializable.Initialize()`         | Early `PlayerLoop.Initialization` |
| `IPostInitializable.PostInitialize()` | Late `PlayerLoop.Initialization`  |
| `IStartable.Start()`                  | Nearly `MonoBehaviour.Start()`    |
| `IPostStartable.PostStart()`          | After `MonoBehaviour.Start()`     |
| `IFixedTickable.FixedTick()`          | Nearly `MonoBehaviour.FixedUpdate()` |
| `IPostFixedTickable.PostFixedTick()`  | After `MonoBehaviour.FixedUpdate()` |
| `ITickable.Tick()`                    | Nearly `MonoBehaviour.Update()` |
| `IPostTickable.PostTick()`            | After `MonoBehaviour.Update()` |
| `ILateTickable.LateTick()`            | Nearly `MonoBehaviour.LateUpdate()` |
| `IPostLateTickable.LateTick()`        | After `MonoBehaviour.LateUpdate()` |

And

- `IDisposable` : With container disposes. (For `Lifetime.Singleton` / `Lifetime.Scoped`)

![](./assets/lifecycle_diagram.png)

:::note
[Unity - Manual: Order of Execution for Event Functions](https://docs.unity3d.com/Manual/ExecutionOrder.html)
:::

## Handle of the exception that was not caught

On the application side, exceptions thrown in processes such as Start() and Tick() cannot be caught outside.

By default, VContainer logs unhandled exceptions as `UnityEngine.Debug.LogException`.
As another option, you can register a callback for each LifetimeScope.

```csharp
builder.RegisterEntryPointExceptionHandler(ex =>
{
    // ...
});
```

:::caution
Default error logging will be skipped if you are using the RegisterEntryPointExceptionHandler.
:::

## UniTask

If you are using UniTask, you can use `IAsyncStartable`. see also [UniTask Integration](../integrations/unitask)